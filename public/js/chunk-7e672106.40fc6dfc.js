(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e672106"],{"1b70":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"category-container"},[n("div",{staticClass:"menus-bar"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:t.handleCreate}})],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.list,stripe:""}},[n("el-table-column",{attrs:{prop:"id",label:"ID",width:"100"}}),n("el-table-column",{attrs:{prop:"title",align:"center",label:"标题",width:"180"}}),n("el-table-column",{attrs:{prop:"updated_at",align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-edit-outline"},on:{click:function(n){return t.handleEdit(e.row)}}}),n("el-button",{staticStyle:{color:"#f56c6c"},attrs:{type:"text",size:"medium",icon:"el-icon-delete"},on:{click:function(n){return t.handleDelete(e.row)}}})]}}])})],1),n("el-dialog",{attrs:{title:t.dialogTitle[t.dialogStatus],visible:t.dialogFormVisible,width:"500px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[n("el-form",{staticStyle:{width:"400px","margin-left":"20px"},attrs:{model:t.category,"label-position":"top","label-width":"50px"}},[n("el-form-item",{attrs:{label:"名称",size:"medium"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:t.category.title,callback:function(e){t.$set(t.category,"title",e)},expression:"category.title"}})],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),"create"===t.dialogStatus?n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handleStore}},[t._v("确 定")]):n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handleUpdate}},[t._v("确 定")])],1)],1)],1)},i=[],a=n("db72"),o=(n("0fb7"),n("450d"),n("f529")),c=n.n(o),s=(n("96cf"),n("3b8d")),l=n("4360"),u=n("2f62"),d=Object(u["a"])("category"),f=d.mapActions,p=d.mapState,b={id:null,title:null},g={name:"Category",data:function(){return{loading:!1,dialogTitle:{create:"新增分类",edit:"修改分类"},dialogStatus:"create",dialogFormVisible:!1,category:b}},beforeRouteEnter:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n,r){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l["a"].dispatch("category/getCategories");case 3:r(),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),c.a.error(t.t0.response.data.message);case 9:case"end":return t.stop()}},t,null,[[0,6]])}));function e(e,n,r){return t.apply(this,arguments)}return e}(),methods:Object(a["a"])({},f(["getCategories","storeCategory","updateCategory","deleteCategory"]),{handleCreate:function(){this.category=b,this.dialogFormVisible=!0,this.dialogStatus="create",this.$nextTick(function(){})},handleStore:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.loading){t.next=2;break}return t.abrupt("return");case 2:return this.loading=!0,t.prev=3,t.next=6,this.storeCategory({title:this.category.title});case 6:return t.next=8,this.getCategories();case 8:this.loading=!1,this.dialogFormVisible=!1,t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](3),this.loading=!1,c.a.info(t.t0.response.data.message);case 16:case"end":return t.stop()}},t,this,[[3,12]])}));function e(){return t.apply(this,arguments)}return e}(),handleEdit:function(t){var e=t.id,n=t.title;this.category={id:e,title:n},this.dialogStatus="edit",this.dialogFormVisible=!0},handleUpdate:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.loading){t.next=2;break}return t.abrupt("return");case 2:return this.loading=!0,e=this.category,n=e.id,r=e.title,t.prev=4,t.next=7,this.updateCategory({id:n,data:{title:r}});case 7:return t.next=9,this.getCategories();case 9:this.loading=!1,this.dialogFormVisible=!1,t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](4),this.loading=!1,this.$message.error(t.t0.response.data.message);case 17:case"end":return t.stop()}},t,this,[[4,13]])}));function e(){return t.apply(this,arguments)}return e}(),handleDelete:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$confirm("是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.deleteCategory(e.id).then(function(){n.getCategories(),n.$message.success("删除成功")})}).catch(function(){});case 1:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}),computed:Object(a["a"])({},p({list:function(t){return t.list}}))},h=g,m=(n("9c90"),n("2877")),v=Object(m["a"])(h,r,i,!1,null,"72162321",null);e["default"]=v.exports},"268f":function(t,e,n){t.exports=n("fde4")},"32a6":function(t,e,n){var r=n("241e"),i=n("c3a1");n("ce7e")("keys",function(){return function(t){return i(r(t))}})},"5bba":function(t,e,n){n("9d98");var r=n("584a").Object;t.exports=function(t,e){return r.defineProperties(t,e)}},"5e83":function(t,e,n){t.exports=n("8580")},8580:function(t,e,n){n("ee6d"),t.exports=n("584a").Object.getOwnPropertyDescriptors},"8aae":function(t,e,n){n("32a6"),t.exports=n("584a").Object.keys},"9c90":function(t,e,n){"use strict";var r=n("bf34"),i=n.n(r);i.a},"9d98":function(t,e,n){var r=n("63b6");r(r.S+r.F*!n("8e60"),"Object",{defineProperties:n("7e90")})},a4bb:function(t,e,n){t.exports=n("8aae")},ba99:function(t,e,n){var r=n("6abf"),i=n("9aa9"),a=n("e4ae"),o=n("e53d").Reflect;t.exports=o&&o.ownKeys||function(t){var e=r.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},bf34:function(t,e,n){},bf90:function(t,e,n){var r=n("36c3"),i=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},ce7e:function(t,e,n){var r=n("63b6"),i=n("584a"),a=n("294c");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],o={};o[t]=e(n),r(r.S+r.F*a(function(){n(1)}),"Object",o)}},d847:function(t,e,n){t.exports=n("5bba")},db72:function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("5e83"),i=n.n(r),a=n("d847"),o=n.n(a),c=n("268f"),s=n.n(c),l=n("e265"),u=n.n(l),d=n("a4bb"),f=n.n(d),p=n("bd86");function b(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=f()(n);"function"===typeof u.a&&(r=r.concat(u()(n).filter(function(t){return s()(n,t).enumerable}))),r.forEach(function(e){Object(p["a"])(t,e,n[e])})}else o()(t,i()(arguments[e]));return t}},e265:function(t,e,n){t.exports=n("ed33")},ed33:function(t,e,n){n("014b"),t.exports=n("584a").Object.getOwnPropertySymbols},ee6d:function(t,e,n){var r=n("63b6"),i=n("ba99"),a=n("36c3"),o=n("bf0b"),c=n("20fd");r(r.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,r=a(t),s=o.f,l=i(r),u={},d=0;while(l.length>d)n=s(r,e=l[d++]),void 0!==n&&c(u,e,n);return u}})},fde4:function(t,e,n){n("bf90");var r=n("584a").Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}}}]);
//# sourceMappingURL=chunk-7e672106.40fc6dfc.js.map